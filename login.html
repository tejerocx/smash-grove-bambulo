<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Smash Grove ‚Äî Admin Login</title>
<link rel="icon" type="image/jpeg" href="f6b5eb3c-a6b6-49ce-981e-d9b127b67ba3.jpg">
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Outfit:wght@400;500;600;700&display=swap" rel="stylesheet"/>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--green:#00c853;--green-dark:#007a33;--glow:rgba(0,200,83,.22);--bg:#0d1117;--card:#161b22;--border:#30363d;--text:#e6edf3;--muted:#8b949e;--input:#21262d;--red:#f85149;}
body.light{--bg:#f0f4f8;--card:#fff;--border:#d0d7de;--text:#1a1a2e;--muted:#6c7892;--input:#eaeef2;}
body{font-family:'Outfit',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;transition:background .3s,color .3s;}
.bg-glow{position:fixed;top:-100px;left:50%;transform:translateX(-50%);width:700px;height:500px;border-radius:50%;background:radial-gradient(ellipse,rgba(0,200,83,.14) 0%,transparent 70%);pointer-events:none;}
.bg-grid{position:fixed;inset:0;opacity:.035;background-image:repeating-linear-gradient(0deg,var(--green) 0,var(--green) 1px,transparent 1px,transparent 72px),repeating-linear-gradient(90deg,var(--green) 0,var(--green) 1px,transparent 1px,transparent 80px);pointer-events:none;}
.card{position:relative;z-index:10;background:var(--card);border:1px solid var(--border);border-radius:20px;padding:44px 38px;width:100%;max-width:400px;box-shadow:0 24px 64px rgba(0,0,0,.5);}
.logo{text-align:center;margin-bottom:28px;}
.logo-ic{width:60px;height:60px;background:linear-gradient(135deg,var(--green),var(--green-dark));border-radius:14px;display:flex;align-items:center;justify-content:center;font-size:1.9rem;margin:0 auto 14px;box-shadow:0 8px 24px var(--glow);}
.logo-tx{font-family:'Bebas Neue',sans-serif;font-size:2rem;letter-spacing:2px;}
.logo-sub{color:var(--muted);font-size:.88rem;margin-top:4px;}
.divider{height:1px;background:var(--border);margin:22px 0;}
.err{background:rgba(248,81,73,.1);border:1px solid rgba(248,81,73,.3);border-radius:8px;padding:11px 14px;font-size:.86rem;color:#ff7875;margin-bottom:14px;display:none;}
.err.show{display:block;}
.fl{display:block;font-size:.77rem;font-weight:700;text-transform:uppercase;letter-spacing:.6px;color:var(--muted);margin-bottom:6px;}
.fi{width:100%;padding:11px 13px;background:var(--input);border:1px solid var(--border);border-radius:8px;color:var(--text);font-family:'Outfit',sans-serif;font-size:.92rem;transition:border-color .2s,box-shadow .2s;margin-bottom:14px;}
.fi:focus{outline:none;border-color:var(--green);box-shadow:0 0 0 3px rgba(0,200,83,.12);}
.fi::placeholder{color:var(--muted);}
.btn{display:flex;align-items:center;justify-content:center;gap:7px;width:100%;padding:13px 20px;border:none;border-radius:9px;font-family:'Outfit',sans-serif;font-size:.95rem;font-weight:700;cursor:pointer;transition:all .2s;}
.btn-p{background:linear-gradient(135deg,var(--green),var(--green-dark));color:#fff;box-shadow:0 4px 14px var(--glow);}
.btn-p:hover{transform:translateY(-2px);box-shadow:0 8px 22px var(--glow);}
.hint{background:rgba(0,200,83,.06);border:1px solid rgba(0,200,83,.2);border-radius:8px;padding:12px;font-size:.82rem;color:var(--muted);margin-top:18px;text-align:center;}
.hint strong{color:var(--green);}
.back{display:flex;align-items:center;justify-content:center;gap:6px;margin-top:20px;font-size:.86rem;color:var(--muted);transition:color .2s;text-decoration:none;}
.back:hover{color:var(--green);}
/* toast */
.toasts{position:fixed;top:20px;right:20px;z-index:999;display:flex;flex-direction:column;gap:8px;}
.toast{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:12px 16px;display:flex;align-items:center;gap:10px;min-width:240px;box-shadow:0 6px 24px rgba(0,0,0,.4);animation:tin .3s ease;font-size:.86rem;}
@keyframes tin{from{transform:translateX(110%);opacity:0}to{transform:translateX(0);opacity:1}}
.toast.err{border-left:3px solid var(--red);}
</style>
</head>
<body>
<div class="bg-glow"></div>
<div class="bg-grid"></div>
<div class="toasts" id="toasts"></div>

<div class="card">
  <div class="logo">
    <div class="logo-ic">üèì</div>
    <div class="logo-tx">PICKLEHUB</div>
    <div class="logo-sub">Admin Control Panel</div>
  </div>
  <div class="divider"></div>

  <div class="err" id="errBox">‚ùå Invalid email or password.</div>

  <form id="loginForm" onsubmit="doLogin(event)">
    <label class="fl" for="uname">‚úâÔ∏è Email</label>
    <input type="email" class="fi" id="uname" placeholder="admin@yourdomain.com" autocomplete="email"/>
    <label class="fl" for="upass">üîí Password</label>
    <input type="password" class="fi" id="upass" placeholder="Enter password" autocomplete="current-password"/>
    <button type="submit" class="btn btn-p">Login to Dashboard ‚Üí</button>
  </form>

  <!-- <div class="hint"><strong>Developer login:</strong> developer / dev123</div> -->
  <a class="back" href="index.html">‚Üê Back to Booking Page</a>
</div>

<script>
// Dark mode sync
const dark = localStorage.getItem('pb_dark') !== 'light';
if (!dark) document.body.classList.add('light');

async function doLogin(e) {
  e.preventDefault();
  const u = document.getElementById('uname').value.trim();
  const p = document.getElementById('upass').value;
  const btn = e.target.querySelector('button[type="submit"]');
  btn.disabled = true;
  btn.textContent = 'Logging in‚Ä¶';
  const r = await Auth.login(u, p);
  if (r.ok) {
    window.location.href = 'admin.html';
  } else {
    document.getElementById('errBox').classList.add('show');
    btn.disabled = false;
    btn.textContent = 'Login to Dashboard ‚Üí';
  }
}

// Redirect if already logged in
document.addEventListener('DOMContentLoaded', () => {
  if (Auth.getSession()) window.location.href = 'admin.html';
});
</script>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
<script src="supabase-config.js"></script>
</body>
</html>
